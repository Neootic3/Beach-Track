<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N2EJ8MQ84N"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-N2EJ8MQ84N');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Moroccan Beach Tracker</title>
  <meta name="description" content="Live wind speed, direction, and weather for beaches across Morocco — including Martil, Capo Negro, and more. Perfect for planning your next beach trip!" />
  <meta name="keywords" content="Morocco beaches, Martil weather, Capo Negro weather, Moroccan wind speed, Moroccan beach forecast, Morocco surf conditions" />
  <meta name="author" content="Moroccan Beach Weather" />

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WeatherService",
    "name": "Moroccan Beach Weather",
    "url": "https://yourdomain.com/",
    "description": "Live wind speed, direction, and weather conditions for beaches across Morocco including Martil, Capo Negro, and more.",
    "provider": {
      "@type": "Organization",
      "name": "Moroccan Beach Weather",
      "logo": {
        "@type": "ImageObject",
        "url": "https://yourdomain.com/logo.svg"
      }
    },
    "serviceArea": {
      "@type": "Place",
      "address": {
        "@type": "Country",
        "name": "Morocco"
      }
    },
    "areaServed": [
      {
        "@type": "Beach",
        "name": "Martil Beach",
        "geo": { "@type": "GeoCoordinates", "latitude": 35.621, "longitude": -5.275 }
      },
      {
        "@type": "Beach",
        "name": "Capo Negro Beach",
        "geo": { "@type": "GeoCoordinates", "latitude": 35.671, "longitude": -5.355 }
      },
      {
        "@type": "Beach",
        "name": "M'diq Beach",
        "geo": { "@type": "GeoCoordinates", "latitude": 35.680, "longitude": -5.319 }
      },
      {
        "@type": "Beach",
        "name": "Tamuda Bay",
        "geo": { "@type": "GeoCoordinates", "latitude": 35.692, "longitude": -5.327 }
      }
    ]
  }
  </script>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #4facfe, #00f2fe);
      color: white;
      text-align: center;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      padding: 2rem;
    }
    h1 {
      font-size: 2.5rem;
      margin: 0;
    }
    p {
      max-width: 600px;
      margin: 1rem auto;
      font-size: 1.2rem;
    }
    .btn {
      display: inline-block;
      margin-top: 1.5rem;
      padding: 1rem 2rem;
      background: white;
      color: #0077b6;
      font-size: 1.2rem;
      font-weight: bold;
      border-radius: 50px;
      text-decoration: none;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .btn:hover {
      background: #caf0f8;
      transform: scale(1.05);
    }
    .hero {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding-bottom: 3rem;
    }
    .hero svg {
      width: 200px;
      height: 200px;
      margin-bottom: 1rem;
    }
    footer {
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      font-size: 0.9rem;
    }

    /* New Data Section */
    .data-section {
      background: rgba(255 255 255 / 0.15);
      margin: 0 auto 2rem;
      border-radius: 12px;
      padding: 2rem 1rem;
      max-width: 700px;
      color: white;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }
    .data-section h2 {
      margin-bottom: 1rem;
      font-weight: 700;
    }
    .chart-container {
      position: relative;
      width: 100%;
      max-width: 650px;
      margin: 0 auto 2rem;
    }
    .stats-row {
      display: flex;
      justify-content: space-around;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .stat-card {
      background: rgba(255 255 255 / 0.25);
      border-radius: 10px;
      padding: 1rem 1.5rem;
      width: 140px;
      margin: 0.5rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .stat-card h3 {
      margin: 0;
      font-size: 1.1rem;
    }
    .stat-card p {
      font-size: 1.8rem;
      font-weight: 700;
      margin: 0.2rem 0 0;
      color: #caf0f8;
    }
  </style>
</head>
<body>

  <header>
    <h1>Moroccan Beach Weather</h1>
  </header>

  <div class="hero">
    <!-- Simple SVG Beach Icon -->
    <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="32" cy="32" r="32" fill="#FFD93B"/>
      <path d="M0 50h64v14H0z" fill="#00B4D8"/>
      <path d="M12 50c4-10 12-16 20-16s16 6 20 16H12z" fill="#90E0EF"/>
      <path d="M24 34l4-8 4 8H24z" fill="#FF6B6B"/>
    </svg>

    <p>Get live weather, wind speed, and direction for Morocco’s top beaches. Plan your swim, surf, or seaside walk with confidence!</p>
    <a href="app.html" class="btn">Open Live Weather App</a>
  </div>

  <!-- New Data Collected Section -->
  <section class="data-section" aria-label="Data Collected statistics and charts">
    <h2>Data Collected</h2>

    <div class="stats-row" role="list">
      <div class="stat-card" role="listitem">
        <h3>Total Beaches Tracked</h3>
        <p id="totalBeaches">--</p>
      </div>
      <div class="stat-card" role="listitem">
        <h3>Total Data Points</h3>
        <p id="totalDataPoints">--</p>
      </div>
      <div class="stat-card" role="listitem">
        <h3>Avg Wind Speed (m/s)</h3>
        <p id="avgWindSpeed">--</p>
      </div>
      <div class="stat-card" role="listitem">
        <h3>Avg Humidity (%)</h3>
        <p id="avgHumidity">--</p>
      </div>
      <div class="stat-card" role="listitem">
        <h3>Avg UV Index</h3>
        <p id="avgUV">--</p>
      </div>
      <div class="stat-card" role="listitem">
        <h3>Visitors (tracked)</h3>
        <p id="visitorCount">--</p>
      </div>
    </div>

    <div class="chart-container">
      <canvas id="weatherChart" aria-label="Weather data chart showing wind speed, humidity and UV index over the past week" role="img"></canvas>
    </div>
  </section>

  <footer>
    &copy; 2025 Moroccan Beach Weather. All Rights Reserved.
  </footer>
<script>
  const apiKey = "d338f2ea5a1de663c27511de8ac24545";
  const beaches = [
    { name: "Martil Center", lat: 35.6241, lon: -5.2756 },
    { name: "Cabo Negro", lat: 35.6633, lon: -5.3208 },
    { name: "M'Diq", lat: 35.6826, lon: -5.3193 },
    { name: "Azla Beach", lat: 35.5513, lon: -5.2890 },
    { name: "Essaouira Beach", lat: 31.513, lon: -9.769 },
    { name: "Agadir Beach", lat: 30.4215, lon: -9.597 },
    { name: "Saïdia Beach", lat: 35.088, lon: -2.264 },
    { name: "Taghazout Beach", lat: 30.542, lon: -9.708 },
    { name: "Oualidia Beach", lat: 32.732, lon: -9.033 },
  ];

  async function fetchCurrentWeather(beach) {
    try {
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${beach.lat}&lon=${beach.lon}&appid=${apiKey}&units=metric`;
      const res = await fetch(url);
      if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);
      const data = await res.json();
      return {
        temp: data.main.temp,
        windSpeed: data.wind.speed,
        humidity: data.main.humidity,
      };
    } catch (e) {
      console.error(`Error fetching data for ${beach.name}`, e);
      return null;
    }
  }

  async function loadChartData() {
    const windSpeeds = [];
    const humidities = [];
    const labels = [];

    for (const beach of beaches) {
      const weather = await fetchCurrentWeather(beach);
      if (weather) {
        windSpeeds.push(weather.windSpeed);
        humidities.push(weather.humidity);
        labels.push(beach.name);
      }
    }

    const ctx = document.getElementById('weatherChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [
          {
            label: 'Wind Speed (m/s)',
            data: windSpeeds,
            backgroundColor: 'rgba(255, 255, 255, 0.8)',
          },
          {
            label: 'Humidity (%)',
            data: humidities,
            backgroundColor: 'rgba(135,206,250, 0.7)',
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: { labels: { color: 'white' } },
          tooltip: { enabled: true },
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: { color: 'white' },
            max: 100,
          },
          x: {
            ticks: { color: 'white' },
          },
        },
      },
    });
  }

  loadChartData();
</script>
<!-- Default Statcounter code for BeachSurf https://beachsurf.netlify.app -->
<script type="text/javascript">
var sc_project=13157748; 
var sc_invisible=1; 
var sc_security="8a06bf6e"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img class="statcounter"
src="https://c.statcounter.com/13157748/0/8a06bf6e/1/" alt="Web Analytics"
referrerPolicy="no-referrer-when-downgrade"></a></div></noscript>
<!-- End of Statcounter Code -->
</body>
</html>